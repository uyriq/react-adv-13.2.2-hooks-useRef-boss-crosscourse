# react-adv-13.2.2-hooks-useRef-boss-crosscourse

Вы очень много знаете про рефы и неоднократно практиковались в работе с ними. В этом задании вам нужно одолеть босса — инструмент для профессиональных трейдеров. Он точно и надёжно предсказывает курс доллара к рублю. Работающий инструмент выглядит так:
image
Как вы могли понять, приложение сейчас не работает и считает данные некорректно. Ваша задача — починить приложение, используя все знания о рефах.
Нужно сохранять предыдущее значение курса в реф, а по разнице между предыдущим курсом и текущим показывать тренд валютной пары. Если актуальное значение курса выше предыдущего — тренд положительный. В противном случае — отрицательный.
Весь код приложения записан в одном компоненте — CoursePredictor. Мы расскажем в общих чертах о текущей функциональности компонента:

    Набор утилитарных функций getRandomNum и getRatio исправлять не требуется. Первая функция генерирует случайное число, а вторая — занимается вычислением тренда. Мы ещё не написали отдельный интенсив по бэкенду, поэтому в каждом уроке предлагаем работать с захардкоженными данными.
    Состояние currentCourse содержит актуальный курс валюты.
    isDown — утилитарная функция внутри компонента. Она влияет на визуализацию тренда — отображает отрицательный или положительный тренд.

В компоненте есть три константы с JSX:

    ratioElement отвечает за отображения блока трендов,
    previousElement — за отображение блока с предыдущим курсом,
    currentElement — за отображение блока с текущим курсом.

С функциональностью приложения немного разобрались. Перейдём к самому заданию.
Для работы с предыдущим значением валюты потребуется реф. Создайте пустой реф previousCourseRef. После монтирования или обновления компонента рефу previousCourseRef присваивается текущее состояние currentCourse.
Для корректной работы с рефами присвойте переменной previousCourse значение previousCourseRef.current. Именно эту переменную используйте для всех расчётов и отрисовки данных.
Теперь значением переменной previousCourse нужно поделиться с функциями для расчётов. Передайте переменную вторым параметром в функции getRatio. Про расчёты поговорили — обсудим отрисовку данных.
Содержимое ratioElement отрисовывается только при наличии и currentCourse, и previousCourse.
Элемент output в previousElement должен отрисовываться при наличии previousCourse:

<output className={coursePredictorStyles.value}>
  {/* Предыдущее значение валюты */} ₽
</output>

Created with CodeSandbox
